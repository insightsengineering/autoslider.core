<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Generating AI-Powered Footnotes • autoslider.core</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generating AI-Powered Footnotes">
<link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">autoslider.core</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.6.9005</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/autoslideR.html">How to use autoslider.core</a></li>
    <li><a class="dropdown-item" href="../articles/opensource.html">Guidelines for Open-sourcing</a></li>
    <li><a class="dropdown-item" href="../articles/downstream.html">Guidelines for building downstream autoslider.* packages</a></li>
    <li><a class="dropdown-item" href="../articles/tlg_templates.html">Generating Templates with table_templates.R</a></li>
    <li><a class="dropdown-item" href="../articles/adding_templates.html">Adding custom templates to autoslider.core as a developer</a></li>
    <li><a class="dropdown-item" href="../articles/generate_placeholder_slides.html">Generating placeholder slides for your presentation</a></li>
    <li><a class="dropdown-item" href="../articles/use_LLM.html">Generating AI-Powered Footnotes</a></li>
    <li><a class="dropdown-item" href="../articles/using_formats.html">Customizing TLG Visual Formats</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-developers" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Developers</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-developers">
<li><a class="dropdown-item" href="../articles/opensource.html">Guidelines for moving template for open-sourcing</a></li>
    <li><a class="dropdown-item" href="../articles/downstream.html">Guidelines for building downstream autoslider.* packages</a></li>
    <li><a class="dropdown-item" href="../articles/tlg_templates.html">How to write your own tables/listings from existing templates?</a></li>
    <li><a class="dropdown-item" href="../articles/adding_templates.html">How to add your own templates?</a></li>
    <li><a class="dropdown-item" href="../articles/generate_placeholder_slides.html">How to generate placeholder slides for your presentation?</a></li>
    <li><a class="dropdown-item" href="../articles/use_LLM.html">How to integrate your local LLM model for AI footnote generation?</a></li>
    <li><a class="dropdown-item" href="../articles/using_formats.html">How to customize the format of your TLG?</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://cran.r-project.org/web/packages/autoslider.core/index.html">CRAN</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/insightsengineering/autoslider.core/releases">Dev</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reports">
<li><a class="dropdown-item" href="../coverage-report/">Coverage report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report/">Unit test report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report-non-cran/">Non-CRAN unit test report</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/insightsengineering/autoslider.core" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generating AI-Powered Footnotes</h1>
                        <h4 data-toc-skip class="author">Yolanda Zhou
([<code>yolandazzz13</code>])</h4>
            
            <h4 data-toc-skip class="date">2025-07-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/autoslider.core/blob/main/vignettes/use_LLM.Rmd" class="external-link"><code>vignettes/use_LLM.Rmd</code></a></small>
      <div class="d-none name"><code>use_LLM.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This guide explains how to use the <code><a href="../reference/adding_ai_footnotes.html">adding_ai_footnotes()</a></code>
function to automatically add analytical annotations and summaries to
your slides using AI tool.</p>
</div>
<div class="section level2">
<h2 id="prerequisite">Prerequisite<a class="anchor" aria-label="anchor" href="#prerequisite"></a>
</h2>
<p>Before you begin, ensure you have the following ready:</p>
<ul>
<li><p>A Prompt File (<code>prompt.yml</code>) containing the
instructions for the AI model.</p></li>
<li><p>Access to a local LLM instance.</p></li>
</ul>
<p>Please see <code>autoslideR.Rmd</code> for some readily available
spec and filter examples and detailed instructions on how to use them.
If you do not have an LLM model installed yet, see appendix on how to
deploy your own local LLM.</p>
</div>
<div class="section level2">
<h2 id="the-workflow">The Workflow<a class="anchor" aria-label="anchor" href="#the-workflow"></a>
</h2>
<p>The process involves three main steps: generating the initial slide
data, adding the AI footnotes, and then creating the final PowerPoint
file.</p>
<div class="section level3">
<h3 id="step-1-initial-slide-generation">Step 1: Initial Slide Generation<a class="anchor" aria-label="anchor" href="#step-1-initial-slide-generation"></a>
</h3>
<p>First, generate the core slide outputs from your specification file.
This process reads your spec, filters it for the desired programs, and
generates the basic table and plot objects.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_spec.html">read_spec</a></span><span class="op">(</span><span class="st">"path/to/your/spec.yml"</span><span class="op">)</span></span>
<span><span class="fu">filters</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/filters/man/load_filters.html" class="external-link">load_filters</a></span><span class="op">(</span><span class="st">"path/to/your/filter.yml"</span><span class="op">)</span></span>
<span><span class="va">prompt_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_prompt_list.html">get_prompt_list</a></span><span class="op">(</span><span class="st">"path/to/your/prompt.yml"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate the initial outputs</span></span>
<span><span class="va">outputs</span> <span class="op">&lt;-</span> <span class="va">spec</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/filter_spec.html">filter_spec</a></span><span class="op">(</span><span class="va">program</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"t_dm_slide"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/generate_outputs.html">generate_outputs</a></span><span class="op">(</span>datasets <span class="op">=</span> <span class="va">my_datasets</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/decorate_outputs.html">decorate_outputs</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-2-adding-ai-footnotes">Step 2: Adding AI Footnotes<a class="anchor" aria-label="anchor" href="#step-2-adding-ai-footnotes"></a>
</h3>
<p>Next, pass the outputs object to the
<code><a href="../reference/adding_ai_footnotes.html">adding_ai_footnotes()</a></code> function. This function iterates
through your outputs, and for each one that has a corresponding prompt,
it communicates with the specified LLM model to generate response in the
form of a footnote.</p>
<p>You can configure the function to point to different AI
platforms.</p>
<div class="section level4">
<h4 id="example-using-a-local-llm">Example: Using a Local LLM<a class="anchor" aria-label="anchor" href="#example-using-a-local-llm"></a>
</h4>
<p>This is ideal for local development. It assumes you have Ollama on
your local machine and is developing in a Docker container.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outputs_ai</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adding_ai_footnotes.html">adding_ai_footnotes</a></span><span class="op">(</span></span>
<span>  outputs <span class="op">=</span> <span class="va">outputs</span>,</span>
<span>  prompt_list <span class="op">=</span> <span class="va">prompt_list</span>,</span>
<span>  platform <span class="op">=</span> <span class="st">"ollama"</span>,</span>
<span>  base_url <span class="op">=</span> <span class="st">"http://host.docker.internal:11434"</span>, <span class="co"># URL for Ollama if R in a Docker container</span></span>
<span>  model <span class="op">=</span> <span class="st">"deepseek-r1:1.5b"</span> <span class="co"># The LLM model name</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The parameters you pass in might depend on your specific situation.
In general:</p>
<ul>
<li><p><code>platform</code>: Set to <code>ollama</code>.</p></li>
<li><p><code>base_url</code>: Points to where your <code>Ollama</code>
instance is running.</p></li>
<li><p><code>model</code>: The name of a model you have pulled in
<code>Ollama.</code></p></li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="step-3-create-the-final-powerpoint-file">Step 3: Create the Final PowerPoint File<a class="anchor" aria-label="anchor" href="#step-3-create-the-final-powerpoint-file"></a>
</h3>
<p>Finally, take the modified <code>outputs_ai</code> object and pass it
to <code><a href="../reference/generate_slides.html">generate_slides()</a></code> to create the presentation. The
footnotes will be automatically included on the relevant slides.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outputs_ai</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/generate_slides.html">generate_slides</a></span><span class="op">(</span>outfile <span class="op">=</span> <span class="st">"My_AI_Presentation.pptx"</span><span class="op">)</span></span></code></pre></div>
<p>This will produce a PowerPoint file with your tables and plots, and
enhanced with AI generated analysis.</p>
</div>
</div>
<div class="section level2">
<h2 id="appendix">Appendix<a class="anchor" aria-label="anchor" href="#appendix"></a>
</h2>
<div class="section level3">
<h3 id="running-your-local-llm">Running Your Local LLM<a class="anchor" aria-label="anchor" href="#running-your-local-llm"></a>
</h3>
<p>First of all, we need to download the Ollama tool at <a href="https://ollama.com/download" class="external-link uri">https://ollama.com/download</a>. Once Ollama is installed,
you can run any model from its library with a single command. For this
example, we’ll use deepseek-r1:1.5b.</p>
<p>Open your command-line tool (e.g., Terminal, Windows PowerShell).</p>
<p>Type the following command and press Enter. Ollama will automatically
download the model, which may take a few minutes.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> ollama run deepseek-r1:1.5b</span></code></pre></div>
<p>After the process completes, you will see a success message and a new
prompt, like this:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> <span class="op">&gt;&gt;&gt;</span> Send a message <span class="er">(</span><span class="ex">/?</span> for help<span class="kw">)</span></span></code></pre></div>
<p>This means you have successfully installed and are now running a
local LLM. Feel free to start a conversation and play around with some
prompts!</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="nest">
  <p>autoslider.core is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>





  </body>
</html>
